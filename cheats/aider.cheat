% aider, AI, playwright

# aider install (uv)
uv tool install --force --python python3.12 aider-chat@latest

# aider install (pipx)
pipx install aider-chat

# playwright install (uv) - useful to run web searches with /web
uv tool install playwright

# playwright install (pipx) - useful to run web searches with /web
pipx install playwright

# run for python assistance
/storage/src/dot_files/aider/wrappers/default-coding-python.sh

# run for lua neovim assistance
/storage/src/dot_files/aider/wrappers/default-coding-lua-neovim.sh

# run for general assistance (no-specific, not related to coding)
/storage/src/dot_files/aider/wrappers/default.sh

# (aider prompt command) comparing the current branch with a base one (useful e.g. for code reviews):
echo '/run git diff <pr-branch>..<base-branch>' > /tmp/copied.txt && echo 'copied to clipboard file /tmp/copied.txt.'

# (aider prompt command) add last commit history to the chat context
echo '/run git diff HEAD~1' > /tmp/copied.txt && echo 'copied to clipboard file /tmp/copied.txt.'

# (aider prompt command) add last n commits history to the chat context
echo '/run git diff HEAD~<number-of-commits>' > /tmp/copied.txt && echo 'copied to clipboard file /tmp/copied.txt.'

# generate repositoty map (repomap) - It contains the files and functions/classes definitions with their params
aider --map-tokens 4096 \
        --no-gitignore \
	--aiderignore /storage/src/dot_files/aider/ignore-list \
	--config /storage/src/dot_files/aider/conf.yaml \
	--show-repo-map > repomap.txt

# natural language
echo -e "

  NOTES:
  - add '--verbose --no-pretty' to see all the raw information being sent to/from the LLM in the conversation;
  - '--read' is a 'system prompt' file you can use with more specific instructions if needed;
  - The chat starts in "ask" mode - change to "/code" or "/architect" to be able to edit code.

  " \
	&& read -p "To submit messages to the LLM on multiline mode (which we are using), use [Alt-Enter].\n\nNow, press Enter to continue..." \
	&& aider --vim \
		--no-git \
		--chat-mode ask\
		--config /storage/src/dot_files/aider/conf.yaml \
		--dark-mode \
		--code-theme solarized-dark \
		--read /storage/src/ai-prompts/_persona.md \
		--read /storage/src/ai-prompts/_system_natural_language.md

# ask a question and quit (leverage the "a" bash alias)
a --message "<your message here>"
